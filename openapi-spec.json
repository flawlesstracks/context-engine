{
  "openapi": "3.1.0",
  "info": {
    "title": "Context Engine API",
    "description": "Context Architecture's knowledge graph API. Extracts structured context from unstructured text, stores entity profiles with six metadata layers (confidence, time decay, facts layers, entity IDs, constraints, actions), and accepts real-time observations that decay over time.",
    "version": "2.0.0",
    "contact": {
      "name": "CJ Mitchell",
      "url": "https://github.com/flawlesstracks/context-engine"
    }
  },
  "servers": [
    {
      "url": "https://context-engine-nw4l.onrender.com",
      "description": "Production (Render)"
    }
  ],
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "X-Context-API-Key",
        "description": "API key for authenticating requests. Pass via X-Context-API-Key header."
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          }
        },
        "required": ["error"]
      },
      "SearchResult": {
        "type": "object",
        "properties": {
          "entity_id": {
            "type": "string",
            "example": "ENT-CJM-001"
          },
          "entity_type": {
            "type": "string",
            "enum": ["person", "business"]
          },
          "name": {
            "type": "string",
            "example": "CJ Mitchell"
          },
          "summary": {
            "type": "string"
          },
          "match_score": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "example": 0.85
          }
        }
      },
      "SearchResponse": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string"
          },
          "count": {
            "type": "integer"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            }
          }
        }
      },
      "EntitySummary": {
        "type": "object",
        "properties": {
          "entity_id": {
            "type": "string",
            "example": "ENT-CJM-001"
          },
          "entity_type": {
            "type": "string",
            "enum": ["person", "business"]
          },
          "name": {
            "type": "string",
            "example": "CJ Mitchell"
          },
          "summary": {
            "type": "string"
          },
          "confidence": {
            "type": "number",
            "nullable": true,
            "example": 0.92
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "attributes_count": {
            "type": "integer"
          },
          "relationships_count": {
            "type": "integer"
          },
          "key_facts_count": {
            "type": "integer"
          }
        }
      },
      "WeightedObservation": {
        "type": "object",
        "properties": {
          "observation_id": {
            "type": "string",
            "example": "OBS-ENT-CJM-001-20260215194818-001"
          },
          "observation": {
            "type": "string",
            "example": "CJ started the Semi-LoRA MVP weekend build"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "example": 1.0
          },
          "confidence_label": {
            "type": "string",
            "enum": ["VERIFIED", "STRONG", "MODERATE", "SPECULATIVE", "UNCERTAIN"]
          },
          "facts_layer": {
            "type": "string",
            "enum": ["L1_OBJECTIVE", "L2_GROUP", "L3_PERSONAL"]
          },
          "layer_number": {
            "type": "integer",
            "enum": [1, 2, 3]
          },
          "observed_at": {
            "type": "string",
            "format": "date-time"
          },
          "observed_by": {
            "type": "string",
            "example": "claude-agent"
          },
          "source": {
            "type": "string",
            "nullable": true,
            "example": "direct conversation"
          },
          "days_since": {
            "type": "number",
            "description": "Days since observation was recorded",
            "example": 2.45
          },
          "time_decay_factor": {
            "type": "number",
            "description": "Exponential decay factor: exp(-0.03 * days_since)",
            "example": 0.929
          },
          "relevance_weight": {
            "type": "number",
            "description": "confidence * time_decay_factor",
            "example": 0.929
          }
        }
      },
      "EntityProfile": {
        "type": "object",
        "properties": {
          "attributes_count": {
            "type": "integer"
          },
          "relationships_count": {
            "type": "integer"
          },
          "values_count": {
            "type": "integer"
          },
          "key_facts_count": {
            "type": "integer"
          },
          "constraints_count": {
            "type": "integer"
          },
          "confidence": {
            "type": "number",
            "nullable": true,
            "example": 0.92
          }
        }
      },
      "ContextResponse": {
        "type": "object",
        "properties": {
          "entity_id": {
            "type": "string",
            "example": "ENT-CJM-001"
          },
          "entity_type": {
            "type": "string",
            "enum": ["person", "business"]
          },
          "name": {
            "type": "string",
            "example": "CJ Mitchell"
          },
          "entity_summary": {
            "type": "string",
            "description": "Base entity summary from extraction"
          },
          "context_summary": {
            "type": "string",
            "description": "Entity summary concatenated with top 5 weighted observations in natural language"
          },
          "observation_count": {
            "type": "integer",
            "description": "Total number of observations on this entity"
          },
          "observations": {
            "type": "array",
            "description": "Top 20 observations sorted by relevance_weight descending",
            "items": {
              "$ref": "#/components/schemas/WeightedObservation"
            }
          },
          "profile": {
            "$ref": "#/components/schemas/EntityProfile"
          }
        }
      },
      "ObserveRequest": {
        "type": "object",
        "required": ["entity_id", "observation", "confidence_label", "facts_layer"],
        "properties": {
          "entity_id": {
            "type": "string",
            "description": "The entity to attach this observation to. Must exist in the graph.",
            "example": "ENT-CJM-001"
          },
          "observation": {
            "type": "string",
            "description": "The observation text to record",
            "example": "CJ started the Semi-LoRA MVP weekend build"
          },
          "confidence_label": {
            "type": "string",
            "enum": ["VERIFIED", "STRONG", "MODERATE", "SPECULATIVE", "UNCERTAIN"],
            "description": "Confidence level. Maps to numeric scores: VERIFIED=1.0, STRONG=0.8, MODERATE=0.6, SPECULATIVE=0.4, UNCERTAIN=0.2"
          },
          "facts_layer": {
            "type": "string",
            "enum": ["L1_OBJECTIVE", "L2_GROUP", "L3_PERSONAL"],
            "description": "Which facts layer this observation belongs to. L1=objective/verifiable, L2=group consensus, L3=personal/subjective"
          },
          "source": {
            "type": "string",
            "nullable": true,
            "description": "Where this observation came from",
            "example": "direct conversation"
          }
        }
      },
      "Observation": {
        "type": "object",
        "properties": {
          "observation_id": {
            "type": "string",
            "description": "Auto-generated unique ID in format OBS-{entity_id}-{timestamp}-{seq}",
            "example": "OBS-ENT-CJM-001-20260215194818-001"
          },
          "observation": {
            "type": "string"
          },
          "confidence": {
            "type": "number",
            "description": "Numeric confidence score mapped from confidence_label"
          },
          "confidence_label": {
            "type": "string",
            "enum": ["VERIFIED", "STRONG", "MODERATE", "SPECULATIVE", "UNCERTAIN"]
          },
          "facts_layer": {
            "type": "string",
            "enum": ["L1_OBJECTIVE", "L2_GROUP", "L3_PERSONAL"]
          },
          "layer_number": {
            "type": "integer",
            "enum": [1, 2, 3]
          },
          "observed_at": {
            "type": "string",
            "format": "date-time",
            "description": "Server-generated timestamp"
          },
          "observed_by": {
            "type": "string",
            "description": "Value of X-Agent-ID header, defaults to 'external'"
          },
          "source": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ObserveResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["created"]
          },
          "entity_id": {
            "type": "string"
          },
          "observation": {
            "$ref": "#/components/schemas/Observation"
          }
        }
      },
      "CreateEntityRequest": {
        "type": "object",
        "required": ["entity_type", "name"],
        "properties": {
          "entity_type": {
            "type": "string",
            "enum": ["person", "business"],
            "description": "Type of entity to create"
          },
          "name": {
            "type": "object",
            "description": "Entity name. For person: use 'full'. For business: use 'common' or 'legal'.",
            "properties": {
              "full": { "type": "string", "example": "Tariq Adams" },
              "preferred": { "type": "string" },
              "common": { "type": "string" },
              "legal": { "type": "string" },
              "aliases": { "type": "array", "items": { "type": "string" } }
            }
          },
          "summary": {
            "type": "string",
            "description": "Brief description of the entity"
          },
          "attributes": {
            "type": "object",
            "description": "Key-value pairs like role, location, expertise",
            "additionalProperties": {}
          },
          "relationships": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": { "type": "string" },
                "relationship": { "type": "string" },
                "context": { "type": "string" }
              }
            }
          },
          "values": {
            "type": "array",
            "items": { "type": "string" }
          },
          "source": {
            "type": "string",
            "description": "Where this data came from"
          }
        }
      },
      "CreateEntityResponse": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["created"] },
          "entity_id": { "type": "string", "example": "ENT-TA-001" },
          "entity_type": { "type": "string" },
          "name": { "type": "string" }
        }
      },
      "UpdateEntityRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "object",
            "description": "Updated name fields to merge",
            "properties": {
              "full": { "type": "string" },
              "preferred": { "type": "string" },
              "common": { "type": "string" },
              "legal": { "type": "string" }
            }
          },
          "summary": {
            "type": "string",
            "description": "Updated summary text"
          },
          "attributes": {
            "type": "object",
            "description": "Attributes to add or update by key",
            "additionalProperties": {}
          },
          "relationships": {
            "type": "array",
            "description": "Relationships to add or update (matched by name)",
            "items": {
              "type": "object",
              "properties": {
                "name": { "type": "string" },
                "relationship": { "type": "string" },
                "context": { "type": "string" }
              }
            }
          },
          "values": {
            "type": "array",
            "description": "Values to add (deduped by text)",
            "items": { "type": "string" }
          }
        }
      },
      "UpdateEntityResponse": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["updated"] },
          "entity_id": { "type": "string" },
          "changes": { "type": "array", "items": { "type": "string" } },
          "updated_at": { "type": "string", "format": "date-time" }
        }
      },
      "DeleteObservationResponse": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["deleted"] },
          "observation_id": { "type": "string" },
          "entity_id": { "type": "string" },
          "deleted_observation": { "$ref": "#/components/schemas/Observation" }
        }
      },
      "CreateTenantRequest": {
        "type": "object",
        "required": ["tenant_name"],
        "properties": {
          "tenant_name": {
            "type": "string",
            "description": "Display name for the new tenant. Must be unique (case-insensitive).",
            "example": "Acme Corp"
          }
        }
      },
      "CreateTenantResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["created"]
          },
          "tenant_id": {
            "type": "string",
            "description": "Auto-generated 8-character hex tenant ID",
            "example": "7105d791"
          },
          "tenant_name": {
            "type": "string",
            "example": "Acme Corp"
          },
          "api_key": {
            "type": "string",
            "description": "Auto-generated API key in ctx-{32 hex chars} format. Shown only once.",
            "example": "ctx-6d72d8920e5ca9785d42ae71b3b0243a"
          },
          "graph_directory": {
            "type": "string",
            "description": "Isolated subdirectory for this tenant's data",
            "example": "tenant-7105d791"
          },
          "note": {
            "type": "string",
            "example": "Save this API key — it will not be shown again."
          }
        }
      },
      "ChatGPTConversation": {
        "type": "object",
        "description": "A single conversation from ChatGPT's data export format",
        "properties": {
          "title": {
            "type": "string",
            "description": "Conversation title",
            "example": "Project planning with team"
          },
          "create_time": {
            "type": "number",
            "description": "Unix timestamp (seconds) when the conversation was created",
            "example": 1700000000.0
          },
          "mapping": {
            "type": "object",
            "description": "Map of node IDs to message nodes. Each node has a message with author.role ('user', 'assistant', 'system') and content.parts (array of strings). Only user messages are extracted.",
            "additionalProperties": {}
          }
        }
      },
      "IngestChatGPTRequest": {
        "type": "object",
        "description": "Submit ChatGPT conversations for entity extraction. Provide either 'conversations' (parsed array) or 'raw' (JSON string to parse).",
        "properties": {
          "conversations": {
            "type": "array",
            "description": "Array of ChatGPT conversation objects from the export file",
            "items": {
              "$ref": "#/components/schemas/ChatGPTConversation"
            }
          },
          "raw": {
            "type": "string",
            "description": "Raw JSON string of the conversations array (alternative to 'conversations')"
          }
        }
      },
      "IngestProgressEvent": {
        "type": "object",
        "description": "NDJSON progress event streamed during ingest processing",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["started", "progress", "batch_error", "complete"],
            "description": "Event type: 'started' (initial), 'progress' (per batch), 'batch_error' (batch failure), 'complete' (final summary)"
          },
          "batch": {
            "type": "integer",
            "description": "Current batch number (1-based)"
          },
          "total_batches": {
            "type": "integer"
          },
          "conversations_processed": {
            "type": "integer"
          },
          "total_conversations": {
            "type": "integer"
          },
          "entities_created": {
            "type": "integer"
          },
          "entities_updated": {
            "type": "integer"
          },
          "observations_added": {
            "type": "integer"
          },
          "summary": {
            "type": "object",
            "description": "Present only in 'complete' events",
            "properties": {
              "entities_created": { "type": "integer" },
              "entities_updated": { "type": "integer" },
              "observations_added": { "type": "integer" },
              "conversations_processed": { "type": "integer" },
              "processing_time_seconds": { "type": "number", "example": 19.05 }
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "ApiKeyAuth": []
    }
  ],
  "paths": {
    "/api/tenant": {
      "post": {
        "operationId": "createTenant",
        "summary": "Create a new tenant (admin only)",
        "description": "Creates an isolated tenant with its own graph subdirectory and auto-generated API key. Requires the admin API key. The tenant key is returned once and cannot be retrieved again. All subsequent API calls using the tenant key are automatically scoped to the tenant's isolated subdirectory.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTenantRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tenant created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateTenantResponse"
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid tenant_name",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required — only the admin API key can create tenants",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "Tenant with this name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingest/chatgpt": {
      "post": {
        "operationId": "ingestChatGPT",
        "summary": "Import ChatGPT conversation history",
        "description": "Imports a ChatGPT export. Extracts user messages, batches 10 conversations through Claude for entity extraction, deduplicates via merge engine, and streams NDJSON progress events. Observations get source 'chatgpt_import' and confidence MODERATE. Safe to re-import.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IngestChatGPTRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "NDJSON stream of progress events. Each line is a JSON object with type 'started', 'progress', 'batch_error', or 'complete'. The final 'complete' event contains the summary.",
            "content": {
              "application/x-ndjson": {
                "schema": {
                  "$ref": "#/components/schemas/IngestProgressEvent"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input — missing conversations, unparseable JSON, or no user messages found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/search": {
      "get": {
        "operationId": "searchEntities",
        "summary": "Fuzzy search entities in the knowledge graph",
        "description": "Searches entity names, aliases, attributes, and summaries using Dice coefficient similarity. Returns results sorted by match_score descending. Minimum threshold is 0.3.",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1
            },
            "description": "Search query string",
            "example": "CJ Mitchell"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Missing query parameter",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/entity/{id}/summary": {
      "get": {
        "operationId": "getEntitySummary",
        "summary": "Get a lightweight entity summary",
        "description": "Returns a compact summary of an entity including name, type, summary text, confidence score, and counts of attributes, relationships, and key facts.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Entity ID",
            "example": "ENT-CJM-001"
          }
        ],
        "responses": {
          "200": {
            "description": "Entity summary",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntitySummary"
                }
              }
            }
          },
          "404": {
            "description": "Entity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/entity/{id}/context": {
      "get": {
        "operationId": "getEntityContext",
        "summary": "Get entity profile with weighted observations",
        "description": "Returns entity profile plus top 20 observations scored by relevance_weight (confidence * time decay). Includes context_summary merging entity summary with top 5 observations. Call this before answering questions about an entity.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Entity ID",
            "example": "ENT-CJM-001"
          }
        ],
        "responses": {
          "200": {
            "description": "Entity context with weighted observations",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextResponse"
                }
              }
            }
          },
          "404": {
            "description": "Entity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/observe": {
      "post": {
        "operationId": "addObservation",
        "summary": "Append an observation to an existing entity",
        "description": "Appends an observation to an entity. Generates unique OBS-{entity_id}-{timestamp}-{seq} ID, maps confidence label to numeric score, logs to provenance chain. Call this after conversations to record what you learned.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ObserveRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Observation created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ObserveResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error (missing fields, invalid confidence_label or facts_layer)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Entity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/entity": {
      "post": {
        "operationId": "createEntity",
        "summary": "Create a new entity with auto-generated ID",
        "description": "Creates a person or business entity. Auto-generates ENT-{initials}-{seq} ID. Returns 409 if a similar name already exists. Initializes empty observations array.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEntityRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Entity created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateEntityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid required fields",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "Entity with similar name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/entity/{id}": {
      "patch": {
        "operationId": "updateEntity",
        "summary": "Merge-update entity fields",
        "description": "Merges provided fields into an existing entity. Updates attributes by key, deduplicates relationships by name, appends new values. Logs all changes to provenance chain.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string" },
            "description": "Entity ID",
            "example": "ENT-CJM-001"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEntityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Entity updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateEntityResponse"
                }
              }
            }
          },
          "404": {
            "description": "Entity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/observe/{id}": {
      "delete": {
        "operationId": "deleteObservation",
        "summary": "Delete a specific observation by ID",
        "description": "Searches all entities to find and remove the observation. Logs deletion to provenance chain. Returns the deleted observation.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string" },
            "description": "Observation ID",
            "example": "OBS-ENT-CJM-001-20260215194818-001"
          }
        ],
        "responses": {
          "200": {
            "description": "Observation deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteObservationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Observation not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  }
}
